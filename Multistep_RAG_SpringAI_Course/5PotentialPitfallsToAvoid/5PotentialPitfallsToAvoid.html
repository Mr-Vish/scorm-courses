<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-US">
<head>
    <title>5. Potential Pitfalls to Avoid</title>
    <style type="text/css" media="screen">
		@import url( ../shared/style.css );
	</style>
	<script src="../shared/scormfunctions.js" type="text/javascript"></script>
	<script src="../shared/contentfunctions.js" type="text/javascript"></script>
</head>
<body>
<h1>5. Potential Pitfalls to Avoid</h1>

<p>Creating a multistep system introduces &quot;Agentic&quot; risks that standard RAG does not face:</p>

<ul>
    <li><strong>The Infinite Search Loop:</strong> If the LLM is unsatisfied with search results, it may call the web search tool repeatedly.</li>
    <li><em>Solution:</em> Always set maxToolCalls in your ChatOptions to cap the number of iterations.</li>
    <li><strong>Context Drift:</strong> In a 3-step search, the prompt grows significantly as each step adds more text. This can cause the model to lose the original user intent.</li>
    <li><em>Solution:</em> Use a CompressionQueryTransformer to summarize previous search results before the final generation.</li>
</ul>

<script type="text/javascript">
</script>
</body>
</html>