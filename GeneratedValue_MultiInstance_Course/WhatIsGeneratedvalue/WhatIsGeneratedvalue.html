<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-US">
<head>
    <title>What Is @GeneratedValue</title>
    <style type="text/css" media="screen">
		@import url( ../shared/style.css );
	</style>
	<script src="../shared/scormfunctions.js" type="text/javascript"></script>
	<script src="../shared/contentfunctions.js" type="text/javascript"></script>
</head>
<body>
<h1>What Is @GeneratedValue?</h1>

<h2>Overview</h2>
<p>@GeneratedValue is a JPA annotation that instructs the persistence provider to automatically generate primary key values for entities. It eliminates manual ID assignment but requires careful configuration in distributed systems.</p>

<h2>Basic Usage</h2>
<div class="code-block">
<pre><code>@Entity
public class Order {
    @Id
    @GeneratedValue(strategy = GenerationType.AUTO)
    private Long id;
    
    private String customerName;
    private BigDecimal amount;
}
</code></pre>
</div>

<h2>Generation Strategies</h2>
<table>
    <tr>
        <th>Strategy</th>
        <th>How It Works</th>
        <th>Multi-Instance Safe?</th>
    </tr>
    <tr>
        <td class="rowheader">AUTO</td>
        <td>Provider chooses strategy based on database</td>
        <td>Depends on chosen strategy</td>
    </tr>
    <tr>
        <td class="rowheader">IDENTITY</td>
        <td>Database auto-increment column</td>
        <td>❌ No - collision risk</td>
    </tr>
    <tr>
        <td class="rowheader">SEQUENCE</td>
        <td>Database sequence object</td>
        <td>✅ Yes - with proper config</td>
    </tr>
    <tr>
        <td class="rowheader">TABLE</td>
        <td>Separate table for ID generation</td>
        <td>⚠️ Risky - performance issues</td>
    </tr>
</table>

<h2>IDENTITY Strategy Example</h2>
<div class="code-block">
<pre><code>@Entity
public class Product {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;
    
    private String name;
}

// Database creates auto-increment column
// CREATE TABLE product (
//     id BIGINT AUTO_INCREMENT PRIMARY KEY,
//     name VARCHAR(255)
// );
</code></pre>
</div>

<h2>SEQUENCE Strategy Example</h2>
<div class="code-block">
<pre><code>@Entity
public class Customer {
    @Id
    @GeneratedValue(
        strategy = GenerationType.SEQUENCE,
        generator = "customer_seq"
    )
    @SequenceGenerator(
        name = "customer_seq",
        sequenceName = "customer_id_seq",
        allocationSize = 50
    )
    private Long id;
    
    private String email;
}
</code></pre>
</div>

<h2>Key Concepts</h2>
<ul>
    <li><strong>Allocation Size:</strong> Number of IDs pre-allocated from sequence</li>
    <li><strong>Sequence Object:</strong> Database-level counter for ID generation</li>
    <li><strong>Auto-Increment:</strong> Column-level automatic incrementing</li>
    <li><strong>ID Table:</strong> Separate table storing next ID values</li>
</ul>

<script type="text/javascript">
</script>
</body>
</html>
