<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-US">
<head>
    <title>1.2 Persist DVWA data or extract app files (so you can later modify it)</title>
    <style type="text/css" media="screen">
		@import url( ../shared/style.css );
	</style>
	<script src="../shared/scormfunctions.js" type="text/javascript"></script>
	<script src="../shared/contentfunctions.js" type="text/javascript"></script>
</head>
<body>
<h1>1.2 Persist DVWA data or extract app files (so you can later modify it)</h1>

<p>DVWA inside container is ephemeral unless you map volumes. If you want to modify PHP source to &quot;add vulnerabilities&quot; or inspect files, do one of the following:</p>

<h3><strong>Option A — Copy files out of running container</strong></h3>

<p># Create a folder locally</p>

<p>mkdir -p dvwa-src</p>

<p># Copy /var/www/html from container to dvwa-src</p>

<p>docker cp dvwa:/var/www/html ./dvwa-src</p>

<p>Now open <code>./dvwa-src</code> in VS Code and inspect PHP files. You can edit them and then either rebuild your own image (Option B) or mount them back into a container.</p>

<h3><strong>Option B — Create a Docker container with a bind mount (dev mode)</strong></h3>

<ol>
    <li>Stop and remove the existing container:
</li>
</ol>

<p>docker stop dvwa &amp;&amp; docker rm dvwa</p>

<ol>
    <li>Run a new container with your local folder mounted:
</li>
</ol>

<p># assuming you copied the files into ./dvwa-src</p>

<p>docker run --name dvwa-dev -d -p 8080:80 \</p>

<p>  -v &quot;$(pwd)/dvwa-src&quot;:/var/www/html vulnerables/web-dvwa</p>

<p>Now edits you make in <code>dvwa-src</code> are immediately visible in the container. Use VS Code to edit files and refresh the browser.</p>

<p><strong>Common errors &amp; fixes</strong></p>

<ul>
    <li><code>docker cp: path not found</code> → Ensure container name is correct and the path exists (<code>/var/www/html</code> is standard for Apache PHP images).
</li>
    <li>Ownership/permissions issues when mounting host dir → run <code>sudo chown -R $(id -u):$(id -g) dvwa-src</code> (Linux) or use Docker Desktop settings on Windows.
</li>
</ul>

<script type="text/javascript">
</script>
</body>
</html>